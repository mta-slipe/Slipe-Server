-- Generated by CSharp.lua Compiler
local System = System
local SlipeLuaMtaDefinitions = SlipeLua.MtaDefinitions
local SlipeLuaSharedElements = SlipeLua.Shared.Elements
local SlipeLuaSharedUtilities = SlipeLua.Shared.Utilities
local SystemNumerics = System.Numerics
local SlipeLuaClientRendering
System.import(function (out)
  SlipeLuaClientRendering = SlipeLua.Client.Rendering
end)
System.namespace("SlipeLua.Client", function (namespace)
  --/ <summary>
  --/ Class representing the camera of the local player
  --/ </summary>
  namespace.class("Camera", function (namespace)
    local instance, getInstance, getTarget, setTarget, getInterior, setInterior, getNearClipDistance, setNearClipDistance, 
    getViewMode, setViewMode, getShakeLevel, setShakeLevel, SetMatrix, SetMatrix1, GetFullCameraMatrix, GetCameraMatrix, 
    Fade, Fade1, SetFieldOfView, GetFieldOfView, SetGoggleEffect, GetGoggleEffect, SetCameraClip, GetCameraClip, 
    GetScreenFromWorldPosition, GetWorldFromScreenPosition, IsLineOfSightClear, class
    getInstance = function ()
      if instance == nil then
        instance = class()
      end
      return instance
    end
    getTarget = function (this)
      return SlipeLuaSharedElements.ElementManager.getInstance():GetElement(SlipeLuaMtaDefinitions.MtaClient.GetCameraTarget(), SlipeLuaSharedElements.PhysicalElement)
    end
    setTarget = function (this, value)
      SlipeLuaMtaDefinitions.MtaClient.SetCameraTarget(value:getMTAElement())
    end
    getInterior = function (this)
      return SlipeLuaMtaDefinitions.MtaClient.GetCameraInterior()
    end
    setInterior = function (this, value)
      SlipeLuaMtaDefinitions.MtaClient.SetCameraInterior(value)
    end
    getNearClipDistance = function (this)
      return SlipeLuaMtaDefinitions.MtaClient.GetNearClipDistance()
    end
    setNearClipDistance = function (this, value)
      SlipeLuaMtaDefinitions.MtaClient.SetNearClipDistance(value)
    end
    getViewMode = function (this)
      return SlipeLuaMtaDefinitions.MtaClient.GetCameraViewMode()
    end
    setViewMode = function (this, value)
      SlipeLuaMtaDefinitions.MtaClient.SetCameraViewMode(value)
    end
    getShakeLevel = function (this)
      return System.toByte(SlipeLuaMtaDefinitions.MtaClient.GetCameraShakeLevel())
    end
    setShakeLevel = function (this, value)
      SlipeLuaMtaDefinitions.MtaClient.SetCameraShakeLevel(value)
    end
    SetMatrix = function (this, matrix, roll, fov)
      System.throw(System.NotImplementedException())

      --Vector3 translation = matrix.Translation;
      --Vector3 forward = matrix.Forward;
      --Vector3 lookAt = translation + forward;

      --return MTAClient.SetCameraMatrix(player.MTAElement, translation.X, translation.Y, translation.Z, lookAt.X, lookAt.Y, lookAt.Z, roll, fov);
    end
    SetMatrix1 = function (this, position, lookAt, roll, fov)
      return SlipeLuaMtaDefinitions.MtaClient.SetCameraMatrix(position.X, position.Y, position.Z, lookAt.X, lookAt.Y, lookAt.Z, roll, fov)
    end
    GetFullCameraMatrix = function (this)
      local result = SlipeLuaMtaDefinitions.MtaClient.GetCameraMatrix()
      local position = SystemNumerics.Vector3(result[1], result[2], result[3])
      local rotation = SystemNumerics.Vector3(result[4], result[5], result[6])
      local roll = result[7]
      local yaw = result:getRest()
      return System.Tuple(position, rotation, roll, yaw)
    end
    GetCameraMatrix = function (this)
      System.throw(System.NotImplementedException())

      --Tuple<float, float, float, float, float, float, float, float> result = MTAClient.GetCameraMatrix(player.MTAElement);
      --Vector3 position = new Vector3(result.Item1, result.Item2, result.Item3);
      --Vector3 rotation = new Vector3(result.Item4, result.Item5, result.Item6);
      --float roll = result.Item7;
      --float yaw = result.Rest;
      --return Matrix4x
    end
    Fade = function (this, fade, color, time)
      return SlipeLuaMtaDefinitions.MtaClient.FadeCamera((fade == 0 --[[CameraFade.In]]) and true or false, System.div(time, 1000), color:getR(), color:getG(), color:getB())
    end
    Fade1 = function (this, fade)
      return Fade(this, fade, SlipeLuaSharedUtilities.Color(0x000000), 1000)
    end
    SetFieldOfView = function (this, mode, fieldOfView)
      return SlipeLuaMtaDefinitions.MtaClient.SetCameraFieldOfView(mode:EnumToString(SlipeLuaClientRendering.CameraMode):ToLower(), fieldOfView)
    end
    GetFieldOfView = function (this, mode)
      return SlipeLuaMtaDefinitions.MtaClient.GetCameraFieldOfView(mode:EnumToString(SlipeLuaClientRendering.CameraMode):ToLower())
    end
    SetGoggleEffect = function (this, effect, noiseEnabled)
      return SlipeLuaMtaDefinitions.MtaClient.SetCameraGoggleEffect(effect:EnumToString(SlipeLuaClientRendering.GoggleEffects):ToLower(), noiseEnabled)
    end
    GetGoggleEffect = function (this)
      return SlipeLuaMtaDefinitions.MtaClient.GetCameraGoggleEffect()
    end
    SetCameraClip = function (this, objects, vehicles)
      return SlipeLuaMtaDefinitions.MtaClient.SetCameraClip(objects, vehicles)
    end
    GetCameraClip = function (this)
      return SlipeLuaMtaDefinitions.MtaClient.GetCameraClip()
    end
    GetScreenFromWorldPosition = function (this, position, edgeTolerance, relative)
      local result = SlipeLuaMtaDefinitions.MtaClient.GetScreenFromWorldPosition(position.X, position.Y, position.Z, edgeTolerance, relative)
      return SystemNumerics.Vector2(result[1], result[2])
    end
    GetWorldFromScreenPosition = function (this, position, depth)
      local result = SlipeLuaMtaDefinitions.MtaClient.GetWorldFromScreenPosition(position.X, position.Y, depth)
      return SystemNumerics.Vector3(result[1], result[2], result[3])
    end
    IsLineOfSightClear = function (this, start, end_, checkBuildings, checkVehicles, checkPeds, checkObjects, checkDummies, seeThroughStuff, ignoreSomeObjectsForCamera, ignoredElement)
      local default = ignoredElement
      if default ~= nil then
        default = default:getMTAElement()
      end
      return SlipeLuaMtaDefinitions.MtaClient.IsLineOfSightClear(start.X, start.Y, start.Z, end_.X, end_.Y, end_.Z, checkBuildings, checkVehicles, checkPeds, checkObjects, checkDummies, seeThroughStuff, ignoreSomeObjectsForCamera, default)
    end
    class = {
      getInstance = getInstance,
      getTarget = getTarget,
      setTarget = setTarget,
      getInterior = getInterior,
      setInterior = setInterior,
      getNearClipDistance = getNearClipDistance,
      setNearClipDistance = setNearClipDistance,
      getViewMode = getViewMode,
      setViewMode = setViewMode,
      getShakeLevel = getShakeLevel,
      setShakeLevel = setShakeLevel,
      SetMatrix = SetMatrix,
      SetMatrix1 = SetMatrix1,
      GetFullCameraMatrix = GetFullCameraMatrix,
      GetCameraMatrix = GetCameraMatrix,
      Fade = Fade,
      Fade1 = Fade1,
      SetFieldOfView = SetFieldOfView,
      GetFieldOfView = GetFieldOfView,
      SetGoggleEffect = SetGoggleEffect,
      GetGoggleEffect = GetGoggleEffect,
      SetCameraClip = SetCameraClip,
      GetCameraClip = GetCameraClip,
      GetScreenFromWorldPosition = GetScreenFromWorldPosition,
      GetWorldFromScreenPosition = GetWorldFromScreenPosition,
      IsLineOfSightClear = IsLineOfSightClear,
      __metadata__ = function (out)
        return {
          fields = {
            { "instance", 0x9, class }
          },
          properties = {
            { "Instance", 0x20E, class, getInstance },
            { "Interior", 0x106, System.Int32, getInterior, setInterior },
            { "NearClipDistance", 0x106, System.Single, getNearClipDistance, setNearClipDistance },
            { "ShakeLevel", 0x106, System.Byte, getShakeLevel, setShakeLevel },
            { "Target", 0x106, out.SlipeLua.Shared.Elements.PhysicalElement, getTarget, setTarget },
            { "ViewMode", 0x106, System.Int32, getViewMode, setViewMode }
          },
          methods = {
            { ".ctor", 0x6, nil },
            { "Fade", 0x386, Fade, System.Int32, out.SlipeLua.Shared.Utilities.Color, System.Int32, System.Boolean },
            { "Fade", 0x186, Fade1, System.Int32, System.Boolean },
            { "GetCameraClip", 0x86, GetCameraClip, System.Tuple },
            { "GetCameraMatrix", 0x86, GetCameraMatrix, System.Numerics.Matrix4x4 },
            { "GetFieldOfView", 0x186, GetFieldOfView, System.Int32, System.Single },
            { "GetFullCameraMatrix", 0x86, GetFullCameraMatrix, System.Tuple },
            { "GetGoggleEffect", 0x86, GetGoggleEffect, System.String },
            { "GetScreenFromWorldPosition", 0x386, GetScreenFromWorldPosition, System.Numerics.Vector3, System.Single, System.Boolean, System.Numerics.Vector2 },
            { "GetWorldFromScreenPosition", 0x286, GetWorldFromScreenPosition, System.Numerics.Vector2, System.Single, System.Numerics.Vector3 },
            { "IsLineOfSightClear", 0xA86, IsLineOfSightClear, System.Numerics.Vector3, System.Numerics.Vector3, System.Boolean, System.Boolean, System.Boolean, System.Boolean, System.Boolean, System.Boolean, System.Boolean, out.SlipeLua.Shared.Elements.PhysicalElement, System.Boolean },
            { "SetCameraClip", 0x286, SetCameraClip, System.Boolean, System.Boolean, System.Boolean },
            { "SetFieldOfView", 0x286, SetFieldOfView, System.Int32, System.Single, System.Boolean },
            { "SetGoggleEffect", 0x286, SetGoggleEffect, System.Int32, System.Boolean, System.Boolean },
            { "SetMatrix", 0x386, SetMatrix, System.Numerics.Matrix4x4, System.Single, System.Single, System.Boolean },
            { "SetMatrix", 0x486, SetMatrix1, System.Numerics.Vector3, System.Numerics.Vector3, System.Single, System.Single, System.Boolean }
          },
          class = { 0x6 }
        }
      end
    }
    return class
  end)
end)

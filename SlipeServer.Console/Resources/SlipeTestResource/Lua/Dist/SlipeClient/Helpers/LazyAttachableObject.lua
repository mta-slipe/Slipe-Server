-- Generated by CSharp.lua Compiler
local System = System
local SlipeLuaSharedHelpers = SlipeLua.Shared.Helpers
local SystemNumerics = System.Numerics
System.namespace("SlipeLua.Client.Helpers", function (namespace)
  --/ <summary>
  --/ Abstract class that implements attaching functionality in a lazy way (updates only when update is called)
  --/ </summary>
  namespace.class("LazyAttachableObject", function (namespace)
    local getOffset, setOffset, getToAttached, getIsAttached, AttachTo, AttachTo1, AttachTo2, AttachTo3, 
    Detach, OnAttach, OnDetach, __ctor__
    __ctor__ = function (this)
      this.Offset = System.default(SystemNumerics.Matrix4x4)
    end
    getOffset, setOffset = System.property("Offset")
    getToAttached = function (this)
      return this.toAttached
    end
    getIsAttached = function (this)
      return this.toAttached ~= nil
    end
    AttachTo = function (this, toElement, offsetMatrix)
      this.toAttached = toElement
      setOffset(this, offsetMatrix:__clone__())
      this:OnAttach()
    end
    AttachTo1 = function (this, toElement, positionOffset, rotationOffset)
      AttachTo2(this, toElement, positionOffset:__clone__(), SlipeLuaSharedHelpers.NumericHelper.EulerToQuaternion(rotationOffset))
    end
    AttachTo2 = function (this, toElement, positionOffset, rotationOffset)
      AttachTo(this, toElement, SystemNumerics.Matrix4x4.Transform(SystemNumerics.Matrix4x4.CreateTranslation(positionOffset), rotationOffset))
    end
    AttachTo3 = function (this, toElement)
      AttachTo(this, toElement, SystemNumerics.Matrix4x4.getIdentity())
    end
    Detach = function (this)
      this:OnDetach()
    end
    OnAttach = function (this)
    end
    OnDetach = function (this)
      this.toAttached = nil
    end
    return {
      getOffset = getOffset,
      setOffset = setOffset,
      getToAttached = getToAttached,
      getIsAttached = getIsAttached,
      AttachTo = AttachTo,
      AttachTo1 = AttachTo1,
      AttachTo2 = AttachTo2,
      AttachTo3 = AttachTo3,
      Detach = Detach,
      OnAttach = OnAttach,
      OnDetach = OnDetach,
      __ctor__ = __ctor__,
      __metadata__ = function (out)
        return {
          fields = {
            { "toAttached", 0x3, out.SlipeLua.Shared.Elements.PhysicalElement }
          },
          properties = {
            { "IsAttached", 0x206, System.Boolean, getIsAttached },
            { "Offset", 0x106, System.Numerics.Matrix4x4, getOffset, setOffset },
            { "ToAttached", 0x206, out.SlipeLua.Shared.Elements.PhysicalElement, getToAttached }
          },
          methods = {
            { "AttachTo", 0x206, AttachTo, out.SlipeLua.Shared.Elements.PhysicalElement, System.Numerics.Matrix4x4 },
            { "AttachTo", 0x306, AttachTo1, out.SlipeLua.Shared.Elements.PhysicalElement, System.Numerics.Vector3, System.Numerics.Vector3 },
            { "AttachTo", 0x306, AttachTo2, out.SlipeLua.Shared.Elements.PhysicalElement, System.Numerics.Vector3, System.Numerics.Quaternion },
            { "AttachTo", 0x106, AttachTo3, out.SlipeLua.Shared.Elements.PhysicalElement },
            { "Detach", 0x6, Detach },
            { "OnAttach", 0x3, OnAttach },
            { "OnDetach", 0x3, OnDetach }
          },
          class = { 0x6 }
        }
      end
    }
  end)
end)
